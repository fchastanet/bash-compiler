---
binFile:
  optionGroups:
    - include: "templates-examples/default.options.yaml"
  commands:
    - functionName: "shellcheckLintCommand"
      commandName: "shellcheckLint"
      version: "1.0"
      help: Lint bash files using shellcheck.
      longDescription: |
        shellcheck wrapper that will:
        - install new shellcheck version(${MIN_SHELLCHECK_VERSION}) automatically
        - by default, lint all git files of this project which are beginning with a bash shebang
          except if the option --staged is passed

        ${__HELP_TITLE}Special configuration .shellcheckrc:${__HELP_NORMAL}
        use the following line in your .shellcheckrc file to exclude
        some files from being checked (use grep -E syntax)
        exclude=^bin/bash-tpl$

        ${__HELP_TITLE_COLOR}SHELLCHECK HELP${__RESET_COLOR}

        @@@SHELLCHECK_HELP@@@
      author: |
        [Fran√ßois Chastanet](https://github.com/fchastanet)
      sourceFile: "${REPOSITORY_URL}/tree/master/${SRC_FILE_PATH}"
      license: "MIT License"
      copyright: copyrightCallback
      callbacks:
        - shellcheckLintParseCallback
      unknownOptionCallbacks:
        - unknownOption
      test:
        <<: *default_options
      options:
        - include: "templates-examples/default.options.yaml"
        - variableName: "optionFormat"
          type: String
          help: "define output format of this command"
          alts:
            - "--format"
            - "-f"
          defaultValue: "tty"
          authorizedValues:
            - value: "checkstyle"
            - value: "diff"
            - value: "gcc"
            - value: "json"
            - value: "json1"
            - value: "quiet"
            - value: "tty"
        - variableName: "optionStaged"
          functionName: "optionStagedFunction" # is it still needed ?
          help: |
            lint only staged git files(files added to file list to be committed)
            and which are beginning with a bash shebang.
          alts:
            - "--staged"
        - variableName: "optionXargs"
          functionName: "optionXargsFunction" # is it still needed ?
          type: Boolean
          help: "uses parallelization(using xargs command) only if tty format"
          alts:
            - "--xargs"
      args:
        - variableName: "argShellcheckFiles"
          functionName: "argShellcheckFilesFunction" # is it still needed ?
          min: 0
          max: -1
          name: "shellcheckFiles"
          callbacks:
            - "argShellcheckFilesCallback"
          help: |
            files to validate with shellcheck (if not provided,
            all files from git repository which are beginning
            with a bash shebang, unless --staged option is provided
          helpType: string
